(this["webpackJsonpchuck-norris-jokes"]=this["webpackJsonpchuck-norris-jokes"]||[]).push([[0],{19:function(e,a,t){e.exports=t(41)},30:function(e,a,t){},31:function(e,a,t){},32:function(e,a,t){e.exports=t.p+"static/media/commentIcon.8f33806e.png"},33:function(e,a,t){},34:function(e,a,t){e.exports=t.p+"static/media/closeIcon.09d6d5da.png"},35:function(e,a,t){e.exports=t.p+"static/media/menuIcon.d353f6c8.png"},36:function(e,a,t){},37:function(e,a,t){},41:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),o=t(4),r=t.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=t(10),s=t(16),l=t(5),u=t(6),d=t(11),m=t(9),h=t(8),v=(t(30),function(e){Object(d.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=a.call.apply(a,[this].concat(c))).state={categories:[]},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props.change_activeCategory;fetch("https://api.chucknorris.io/jokes/categories").then((function(e){return e.json()})).then((function(t){e.setState({categories:t}),a(t[0])})).catch((function(e){return e}))}},{key:"render",value:function(){var e=this.state.categories,a=this.props,t=a.activeSelectRadio,n=a.activeCategory,o=a.searchValue,r=a.change_activeCategory,i=a.change_activeSelectRadio,s=a.change_searchValue,l=a.addJoke;return c.a.createElement("div",{className:"searchBlock_form"},c.a.createElement("p",{className:"msi"},"MSI 2020"),c.a.createElement("h2",{className:"hey"},"Hey!"),c.a.createElement("h3",{className:"letsTry"},"Let's try to find a joke for you:"),c.a.createElement("form",{className:"searchForm"},c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"selectJoke",value:"random",onChange:i,checked:"random"===t}),"Random"),c.a.createElement("br",null),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"selectJoke",value:"categories",onChange:i,checked:"categories"===t}),"From categories"),c.a.createElement("br",null),"categories"===t&&c.a.createElement("div",{className:"jokesCategories_block"},e.map((function(e){return c.a.createElement("span",{key:e,className:n===e?"jokesCategories jokesCategories_active":"jokesCategories",onClick:function(){r(e)}},e)}))),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"selectJoke",value:"search",onChange:i,checked:"search"===t}),"Search"),c.a.createElement("br",null),"search"===t&&c.a.createElement("input",{type:"text",placeholder:"Free text search...",value:o,onChange:s}),c.a.createElement("button",{className:"submitButton",onClick:l},"Get a joke")))}}]),t}(n.Component));v.defaultProps={activeSelectRadio:"random",activeCategory:"",searchValue:"",change_activeCategory:function(){},change_activeSelectRadio:function(){},change_searchValue:function(){},addJoke:function(){}};var f=v,k=(t(31),function(e){var a=e.id,n=e.category,o=void 0===n?[]:n,r=e.updated_at,i=e.value,s=e.url,l=e.isFavourite,u=e.change_isFavourite,d=Date.parse(r),m=new Date,h=Math.floor((m-d)/1e3/60/60);return c.a.createElement("div",{className:"joke"},c.a.createElement("i",{className:l?"fas fa-heart":"far fa-heart",onClick:function(){u(a)}}),c.a.createElement("div",{className:"commentIcon"},c.a.createElement("img",{src:t(32),alt:"chat"})),c.a.createElement("div",{className:"jokeTextBlock"},c.a.createElement("p",{className:"jokeId"},"ID:",c.a.createElement("a",{href:s,"data-title":"sdfdsf"},a,c.a.createElement("i",{className:"fas fa-external-link-alt"}))),c.a.createElement("p",{className:"jokeText"},i),c.a.createElement("span",{className:"jokeDate"},"Last update: ",c.a.createElement("b",null,h," hours ago")),0!==o.length&&c.a.createElement("span",{className:"jokeTrueCategory"},o[0])))});k.defaultProps={id:"",catgory:"",updated_at:"",value:"",url:"",isFavourite:!1};var g=k,p=t(18),j=(t(33),function(){var e=Object(n.useState)(!1),a=Object(p.a)(e,2),o=a[0],r=a[1],i=function(){document.body.querySelector(".favouriteJokes").classList.toggle("displayB"),document.body.classList.toggle("overflowH"),r(!o)};return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"favourite"},c.a.createElement("div",{className:"mobileSpan"},c.a.createElement("img",{src:t(o?34:35),onClick:i,alt:"icon"}),c.a.createElement("span",{onClick:i},"Favourite")),c.a.createElement("span",{className:"desktopSpan"},"Favourite")),c.a.createElement("div",{className:"favourite_backgroundBlock"}),o&&c.a.createElement("div",{className:"opacityBlock",onClick:i}))}),y=function(e){Object(d.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=a.call.apply(a,[this].concat(c))).state={activeSelectRadio:"random",activeCategory:"",searchValue:"",jokes:[]},e.change_activeSelectRadio=function(a){var t=a.target.value;e.setState({activeSelectRadio:t})},e.change_activeCategory=function(a){e.setState({activeCategory:a})},e.change_searchValue=function(a){var t=a.target.value;e.setState({searchValue:t})},e.fetchData=function(a){fetch(a).then((function(e){return e.json()})).then((function(a){console.log(a),e.addJoke(a)}))},e.addJoke=function(a){var t=e.props.favouriteJokes,n=function(e){-1!==t.findIndex((function(a){return a.id===e.id}))?e.isFavourite=!0:e.isFavourite=!1};if(a.result){0===a.result.length&&alert("Nothing was found!");var c,o=Object(s.a)(a.result);try{for(o.s();!(c=o.n()).done;){n(c.value)}}catch(r){o.e(r)}finally{o.f()}e.setState((function(e){e.jokes;return{jokes:Object(i.a)(a.result)}}))}else n(a),e.setState((function(e){e.jokes;return{jokes:[a]}}))},e.addJokesByButton=function(a){a.preventDefault();var t=e.state,n=t.searchValue,c=t.activeCategory;switch(t.activeSelectRadio){case"random":e.fetchData("https://api.chucknorris.io/jokes/random");break;case"categories":e.fetchData("https://api.chucknorris.io/jokes/random?category=".concat(c));break;case"search":n.length>=3&&n.length<=120?e.fetchData("https://api.chucknorris.io/jokes/search?query=".concat(n)):alert("The number of characters must be between 3 and 120");break;default:e.fetchData("https://api.chucknorris.io/jokes/random")}e.setState({searchValue:""})},e.change_isFavourite=function(a){var t=e.props.addJoke;e.setState((function(e){var n=e.jokes,c=n.findIndex((function(e){return e.id===a}));return-1!==c&&(n[c].isFavourite=!n[c].isFavourite),t(a,n[c]),{jokes:n}}))},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchData("https://api.chucknorris.io/jokes/random")}},{key:"render",value:function(){var e=this,a=this.state,t=a.activeSelectRadio,o=a.activeCategory,r=a.searchValue,i=a.jokes,s=this.props.favouriteJokes;return c.a.createElement(n.Fragment,null,c.a.createElement("main",{className:"main"},c.a.createElement("div",{className:"main_wrapper"},c.a.createElement(f,{activeSelectRadio:t,activeCategory:o,searchValue:r,change_activeSelectRadio:this.change_activeSelectRadio,change_activeCategory:this.change_activeCategory,change_searchValue:this.change_searchValue,addJoke:this.addJokesByButton}),c.a.createElement("div",{className:"jokes"},i.map((function(a){var t=a.categories,n=a.id,o=a.updated_at,r=a.url,i=a.value,s=a.isFavourite;return c.a.createElement(g,{key:n,id:n,category:t,updated_at:o,value:i,url:r,isFavourite:s,change_isFavourite:e.change_isFavourite})})))),c.a.createElement("div",{className:"favouriteJokes"},c.a.createElement("div",{className:"jokes"},s.map((function(a){var t=a.categories,n=a.id,o=a.updated_at,r=a.url,i=a.value,s=a.isFavourite;return c.a.createElement(g,{key:n,id:n,category:t,updated_at:o,value:i,url:r,isFavourite:s,change_isFavourite:e.change_isFavourite})})))),c.a.createElement(j,null)))}}]),t}(n.Component),E=Object(h.b)((function(e){return{favouriteJokes:e.favouriteJokes}}),{addJoke:function(e,a){return{type:"ADD_JOKE",id:e,joke:a}}})(y),b=(t(36),t(37),t(1)),_=t(7),C=Object(_.load)({namespace:"favourite-jokes"});C&&C.favouriteJokes&&C.favouriteJokes.length||(C={favouriteJokes:[]});var N,J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.favouriteJokes,a=arguments.length>1?arguments[1]:void 0,t=a.id,n=a.joke,c=a.type;switch(c){case"ADD_JOKE":var o=e.findIndex((function(e){return e.id===t}));return-1===o?e.unshift(n):e.splice(o,1),Object(i.a)(e);default:return e}},S=Object(b.c)({favouriteJokes:J}),F=b.d,O=(N={},Object(b.e)(S,N,F(Object(b.a)(Object(_.save)({namespace:"favourite-jokes"})))));r.a.render(c.a.createElement(h.a,{store:O},c.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.7896a2ec.chunk.js.map