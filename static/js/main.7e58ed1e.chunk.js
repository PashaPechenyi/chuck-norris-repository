(this["webpackJsonpchuck-norris-jokes"]=this["webpackJsonpchuck-norris-jokes"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,a,t){e.exports=t(41)},,,,,,,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){e.exports=t.p+"static/media/commentIcon.8f33806e.png"},function(e,a,t){},function(e,a,t){e.exports=t.p+"static/media/closeIcon.09d6d5da.png"},function(e,a,t){e.exports=t.p+"static/media/menuIcon.d353f6c8.png"},function(e,a,t){},function(e,a,t){},,,,function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(5),o=t.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=t(10),s=t.n(i),l=t(14),u=t(8),m=t(15),d=t(1),f=t(7),v=(t(29),t(30),function(e){var a=e.activeSelectRadio,t=e.activeCategory,r=e.searchValue,o=e.change_activeCategory,i=e.change_activeSelectRadio,s=e.change_searchValue,l=e.addJoke,u=Object(n.useState)(null),m=Object(d.a)(u,2),f=m[0],v=m[1];return Object(n.useEffect)((function(){fetch("https://api.chucknorris.io/jokes/categories").then((function(e){return e.json()})).then((function(e){v(e),o(e[0])})).catch((function(e){return e}))}),[]),c.a.createElement("div",{className:"searchBlock_form"},c.a.createElement("p",{className:"msi"},"MSI 2020"),c.a.createElement("h2",{className:"hey"},"Hey!"),c.a.createElement("h3",{className:"letsTry"},"Let's try to find a joke for you:"),c.a.createElement("form",{className:"searchForm"},c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"selectJoke",value:"random",onChange:i,checked:"random"===a}),"Random"),c.a.createElement("br",null),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"selectJoke",value:"categories",onChange:i,checked:"categories"===a}),"From categories"),c.a.createElement("br",null),"categories"===a&&c.a.createElement("div",{className:"jokesCategories_block"},f.map((function(e){return c.a.createElement("span",{key:e,className:t===e?"jokesCategories jokesCategories_active":"jokesCategories",onClick:function(){o(e)}},e)}))),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"selectJoke",value:"search",onChange:i,checked:"search"===a}),"Search"),c.a.createElement("br",null),"search"===a&&c.a.createElement("input",{type:"text",placeholder:"Free text search...",value:r,onChange:s}),c.a.createElement("button",{className:"submitButton",onClick:l},"Get a joke")))});v.defaultProps={activeSelectRadio:"random",activeCategory:"",searchValue:"",change_activeCategory:function(){},change_activeSelectRadio:function(){},change_searchValue:function(){},addJoke:function(){}};var h=v,k=(t(31),function(e){var a=e.id,n=e.category,r=void 0===n?[]:n,o=e.updated_at,i=e.value,s=e.url,l=e.isFavourite,u=e.change_isFavourite,m=Date.parse(o),d=new Date,f=Math.floor((d-m)/1e3/60/60);return c.a.createElement("div",{className:"joke"},c.a.createElement("i",{className:l?"fas fa-heart":"far fa-heart",onClick:function(){u(a)}}),c.a.createElement("div",{className:"commentIcon"},c.a.createElement("img",{src:t(32),alt:"chat"})),c.a.createElement("div",{className:"jokeTextBlock"},c.a.createElement("p",{className:"jokeId"},"ID:",c.a.createElement("a",{href:s,"data-title":"sdfdsf"},a,c.a.createElement("i",{className:"fas fa-external-link-alt"}))),c.a.createElement("p",{className:"jokeText"},i),c.a.createElement("span",{className:"jokeDate"},"Last update: ",c.a.createElement("b",null,f," hours ago")),0!==r.length&&c.a.createElement("span",{className:"jokeTrueCategory"},r[0])))});k.defaultProps={id:"",catgory:"",updated_at:"",value:"",url:"",isFavourite:!1};var p=c.a.memo(k),g=(t(33),c.a.memo((function(){var e=Object(n.useState)(!1),a=Object(d.a)(e,2),r=a[0],o=a[1],i=function(){document.body.querySelector(".favouriteJokes").classList.toggle("displayB"),document.body.classList.toggle("overflowH"),o(!r)};return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"favourite"},c.a.createElement("div",{className:"mobileSpan"},c.a.createElement("img",{src:t(r?34:35),onClick:i,alt:"icon"}),c.a.createElement("span",{onClick:i},"Favourite")),c.a.createElement("span",{className:"desktopSpan"},"Favourite")),c.a.createElement("div",{className:"favourite_backgroundBlock"}),r&&c.a.createElement("div",{className:"opacityBlock",onClick:i}))}))),E=Object(f.b)((function(e){return{favouriteJokes:e.favouriteJokes}}),{addFavouriteJoke:function(e,a){return{type:"ADD_FAVOURITE_JOKE",id:e,joke:a}}})((function(e){var a=e.addFavouriteJoke,t=e.favouriteJokes,r=Object(n.useState)("random"),o=Object(d.a)(r,2),i=o[0],f=o[1],v=Object(n.useState)(""),k=Object(d.a)(v,2),E=k[0],j=k[1],b=Object(n.useState)(""),y=Object(d.a)(b,2),O=y[0],N=y[1],_=Object(n.useState)([]),F=Object(d.a)(_,2),C=F[0],J=F[1];function w(e){fetch(e).then((function(e){return e.json()})).then((function(e){!function(e){if(e.result){if(0===e.result.length)alert("Nothing was found!");else{var a,t=Object(m.a)(e.result);try{for(t.s();!(a=t.n()).done;){S(a.value)}}catch(n){t.e(n)}finally{t.f()}}J(Object(u.a)(e.result))}else S(e),J([e])}(e)}))}function S(e){-1!==t.findIndex((function(a){return a.id===e.id}))?e.isFavourite=!0:e.isFavourite=!1}Object(n.useEffect)((function(){w("https://api.chucknorris.io/jokes/random")}),[]);var x=Object(n.useCallback)(function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J((function(e){var a=e.findIndex((function(e){return e.id===t}));return n=e[a],-1!==a&&(n.isFavourite=!n.isFavourite),e}));case 2:a(t,n);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[J,a]);return c.a.createElement(n.Fragment,null,c.a.createElement("main",{className:"main"},c.a.createElement("div",{className:"main_wrapper"},c.a.createElement(h,{activeSelectRadio:i,activeCategory:E,searchValue:O,change_activeSelectRadio:function(e){var a=e.target.value;f(a)},change_activeCategory:function(e){j(e)},change_searchValue:function(e){var a=e.target.value;N(a)},addJoke:function(e){switch(e.preventDefault(),i){case"random":w("https://api.chucknorris.io/jokes/random");break;case"categories":w("https://api.chucknorris.io/jokes/random?category=".concat(E));break;case"search":O.length>=3&&O.length<=120?w("https://api.chucknorris.io/jokes/search?query=".concat(O)):alert("The number of characters must be between 3 and 120");break;default:w("https://api.chucknorris.io/jokes/random")}N("")}}),c.a.createElement("div",{className:"jokes"},C.map((function(e){var a=e.categories,t=e.id,n=e.updated_at,r=e.url,o=e.value,i=e.isFavourite;return c.a.createElement(p,{key:t,id:t,category:a,updated_at:n,value:o,url:r,isFavourite:i,change_isFavourite:x})})))),c.a.createElement("div",{className:"favouriteJokes"},c.a.createElement("div",{className:"jokes"},t.map((function(e){var a=e.categories,t=e.id,n=e.updated_at,r=e.url,o=e.value,i=e.isFavourite;return c.a.createElement(p,{key:t,id:t,category:a,updated_at:n,value:o,url:r,isFavourite:i,change_isFavourite:x})})))),c.a.createElement(g,null)))})),j=(t(36),t(37),t(2)),b=t(6),y=Object(b.load)({namespace:"favourite-jokes"});y&&y.favouriteJokes&&y.favouriteJokes.length||(y={favouriteJokes:[]});var O,N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.favouriteJokes,a=arguments.length>1?arguments[1]:void 0,t=a.id,n=a.joke,c=a.type;switch(c){case"ADD_FAVOURITE_JOKE":var r=e.findIndex((function(e){return e.id===t}));return-1===r?e.unshift(n):e.splice(r,1),Object(u.a)(e);default:return e}},_=Object(j.c)({favouriteJokes:N}),F=j.d,C=(O={},Object(j.e)(_,O,F(Object(j.a)(Object(b.save)({namespace:"favourite-jokes"})))));o.a.render(c.a.createElement(f.a,{store:C},c.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[17,1,2]]]);
//# sourceMappingURL=main.7e58ed1e.chunk.js.map